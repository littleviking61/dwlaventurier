!function(a,b){"use strict";a.widget("ab.tips",{_create:function(){this._super(),this._on({mouseup:this._tip});var b=this;a("#btn-tweet-quote").on("click",function(){var a='"'+b._selectedText()+'"';window.open("http://twitter.com/home?status="+a,"Twitter","width=500,height=300")})},_destroy:function(){this._super(),this._destroyTooltip()},_tip:function(c){if(a(c.target).is("#btn-tweet-quote")||a(c.target).is("#btn-comment-quote"))return void this._destroyTooltip();var d=this._selectedText();if(d===b||d.length<=0)return void this._destroyTooltip();if(d.indexOf("\n")>=0)return void this._destroyTooltip();var e=a(c.target).is("p")?a(c.target):a(c.target).closest("p");this._createTooltip(c,e)},_selectedText:function(){var a="";return window.getSelection?a=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(a=document.selection.createRange().text),a},_createTooltip:function(b,c){if(c.length<=0)return!1;var d=window.getSelection().getRangeAt(0),e=document.createElement("span");d.insertNode(e);var f=(e.getBoundingClientRect(),a(e).offset().left),g=a(e).offset().top;e.parentNode.removeChild(e);var h=c.offset(),i=parseInt(c.css("line-height").replace("px","")),j=a(".quote-box").outerHeight(),k=a(".quote-box").outerWidth();c.append(a(".quote-box")),a(".quote-box").css({left:f-h.left-k/2,top:g-h.top-i-j/2+1}).show()},_destroyTooltip:function(){a(".quote-box").hide()}}),jQuery(document).ready(function(a){a(".single .post .entry-content").tips(),a(document).on("mouseup",function(b){return a(b.target).is(".single .post .entry-content, .single .post .entry-content *")?void 0:void a(".single .post .entry-content").data("abTips")._destroyTooltip()})})}(jQuery);